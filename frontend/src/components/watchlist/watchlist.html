<div ng-controller="WatchlistCtrl as ctrl">
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <label class="control-label col-md-1">{{'SEARCH' | translate}}:</label>
      <div class="col-md-2">
        <input type="text" class="form-control" ng-model="ctrl.searchText">
      </div>
      <label class="control-label col-md-2">{{'TIMEPERIOD' | translate}}:</label>
      <div class="col-md-1">
        <button type="button" class="btn btn-default"
                ng-model="ctrl.config.watchlistperiod"
                bs-options="item.value as item.label for item in ctrl.periodList"
                ng-change="ctrl.resetWatchlist()"
                bs-select></button>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-md-1">Wikis:</label>
      <div class="col-md-2">
        <button type="button" class="btn btn-default"
                ng-model="ctrl.config.projectsSelected"
                bs-options="item for item in ctrl.config.projectsList"
                ng-change="ctrl.saveConfig()"
                data-multiple="1"
                ng-model-options="{ debounce: 333 }"
                bs-select></button>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-md-1">{{'OPTIONS' | translate}}:</label>
      <div class="col-md-4">
        <div class="checkbox">
          <label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale"
                 bs-tooltip="tooltip" bs-enabled="ctrl.config.lastrevonly">
            <input type="checkbox" ng-model="ctrl.config.lastrevonly" ng-change="ctrl.resetWatchlist()">
            {{'LASTREVONLY' | translate}}
          </label>
        </div>
        <div class="checkbox">
          <label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale"
                 bs-tooltip="tooltip" bs-enabled="ctrl.config.flagsenable">
            <input type="checkbox" ng-model="ctrl.config.flagsenable" ng-change="ctrl.saveConfig()">
            Show flags instead of language names
          </label>
        </div>
        <div class="checkbox">
          <label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale"
                 bs-tooltip="tooltip" bs-enabled="ctrl.config.editflags.minor">
            <input type="checkbox" ng-model="ctrl.config.editflags.minor" ng-change="ctrl.saveConfig()">
            {{'MINOR_EDITS' | translate}}
          </label>
        </div>
        <div class="checkbox">
          <label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale"
                 bs-tooltip="tooltip" bs-enabled="ctrl.config.editflags.bot">
            <input type="checkbox" ng-model="ctrl.config.editflags.bot" ng-change="ctrl.saveConfig()">
            {{'BOT_EDITS' | translate}}
          </label>
        </div>
        <div class="checkbox">
          <label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale"
                 bs-tooltip="tooltip" bs-enabled="ctrl.config.editflags.anon">
            <input type="checkbox" ng-model="ctrl.config.editflags.anon" ng-change="ctrl.saveConfig()">
            {{'ANON_EDITS' | translate}}
          </label>
        </div>
        <div class="checkbox">
          <label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale"
                 bs-tooltip="tooltip" bs-enabled="ctrl.config.editflags.registered">
            <input type="checkbox" ng-model="ctrl.config.editflags.registered" ng-change="ctrl.saveConfig()">
            {{'USER_EDITS' | translate}}
          </label>
        </div>
      </div>
    </div>
  </form>
  <hr>
  <ul class="example-animate-container">
    <li class="watchlist"
        ng-repeat="event in ctrl.watchlist | projects:ctrl.config.projectsSelected | editflags:ctrl.config.editflags | filter:ctrl.searchText | orderBy:'-timestamp'">
      <watchlist-entry></watchlist-entry>
    </li>
  </ul>
</div>
