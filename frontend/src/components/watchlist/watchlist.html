<div ng-controller="WatchlistCtrl as ctrl" layout="row" layout-align="center center" class="md-padding">
  <md-whiteframe class="md-whiteframe-z5 whitebox">
    <md-toolbar class='md-small-tall'>
      <div class="md-toolbar-tools" ng-hide="showSearch">
        <h1>
          <span translate="WATCHLIST"></span>
        </h1>
        <div flex></div>
        <md-button class="md-icon-button" title="{{'SEARCH_WATCHLIST' | translate}}" ng-click="showSearch = !showSearch">
          <md-icon md-font-library="material-icons">search</md-icon>
        </md-button>
      </div>
      <div class="md-toolbar-tools" ng-show="showSearch">
        <md-input-container flex="flex" md-no-float>
          <input type="text" placeholder="{{'SEARCH_WATCHLIST' | translate}}" ng-model="ctrl.searchText">
        </md-input-container>
      </div>
    </md-toolbar>
    <md-list>
      <md-list-item ng-show="ctrl.watchlist.length === 0" layout="row" layout-align="center center">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </md-list-item>
      <md-list-item layout="row"
                    class="watchlist" id="watchlist"
                    ng-repeat="event in ctrl.watchlist | projects:ctrl.config.projectsSelected | editflags:ctrl.config.editflags | filter:ctrl.searchText | orderBy:'-timestamp'">
        <watchlist-entry></watchlist-entry>
        <md-divider></md-divider>
      </md-list-item>
    </md-list>
  </md-whiteframe>
</div>
